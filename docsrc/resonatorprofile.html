<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <link rel="icon" href="img/eslogo196.png">
   <link rel="stylesheet" type="text/css" href="style.css">
   <link rel="stylesheet" href="highlight/matlab.css">
   <script src="highlight/highlight.pack.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>
   <title>resonatorprofile</title>
</head>

<body>

<header>
<ul>
<li><img src="img/eslogo42.png">
<li class="header-title">EasySpin
<li><a href="index.html">Documentation</a>
<li><a href="references.html">Publications</a>
<li><a href="http://easyspin.org" target="_blank">Website</a>
<li><a href="http://easyspin.org/academy" target="_blank">Academy</a>
<li><a href="http://easyspin.org/forum" target="_blank">Forum</a>
</ul>
</header>

<section>

<div class="functitle">resonatorprofile</div>

<p>
Resonator profile
</p>

<!-- ====================================================== -->
<div class="subtitle">Syntax</div>

<pre class="matlab">
resonatorprofile(nu,nu0,Qu,beta,type)
result = resonatorprofile(nu,nu0,Qu,beta,type)
[nu,result] = resonatorprofile([],nu0,Qu,beta,type)

% Different output options
H = resonatorprofile(nu,nu0,Qu,beta,'transferfunction')
Gamma = resonatorprofile(nu,nu0,Qu,beta,'voltagereflection')
Prefl = resonatorprofile(nu,nu0,Qu,beta,'powerreflection')
Ptrans = resonatorprofile(nu,nu0,Qu,beta,'powertrasmission')
S11 = resonatorprofile(nu,nu0,Qu,beta,'S11')
RL = resonatorprofile(nu,nu0,Qu,beta,'returnloss')
VSWR = resonatorprofile(nu,nu0,Qu,beta,'VSWR')
</pre>

<!-- ====================================================== -->
<div class="subtitle">Description</div>

<p>
This function computes the resonator profile and can return the transfer function, the voltage reflection coefficient, the power reflection coefficient, the power transmission coefficient, the S11 parameter, the return loss, or the voltage standing wave ration (VSWR). <code>nu</code> is the frequency range vector, in GHz, over which it is computed. If it is empty, an appropriate range is chose automatically. <code>nu0</code> is the resonator resonance frequency, in GHz. <code>Qu</code> is the unloaded Q-factor of the resonator (i.e. the theoretical Q factor of the resonator by itself, without connection to a transmission line). <code>beta</code> is the coupling coefficient: 1 for critical coupling (matched), less than 1 for undercoupling, and greater than 1 for overcoupling.
</p>

<p>
The loaded Q-factor (which takes the coupling to the transmission line into account) is related to the unloaded Q-factor <code>Qu</code> and the coupling coefficient <code>beta</code> through:
  <div class="eqn">
	<img src="eqn/resonatorprofile1.png" alt="[eqn]"><!--MATH
	\begin{equation*}
	Q_L = \frac{Q_U}{1+\beta}
	\end{equation*}
	-->
  </div>  
</p>

<p>
The option <code>type</code> can be used to request one of the following quantities
<ul>
  <li><code>transferfunction</code> - the resonator transfer function (using the loaded Q factor)
  </li>
  <li><code>voltagereflection</code> - the voltage reflection coefficient, i.e. the ratio of the E-fields of the reflected wave and the incoming wave
  </li>
  <li><code>powerreflection</code> - the power reflection coefficient, i.e. the fraction of power reflected off the resonator
  </li>
  <li><code>powertransmission</code> - the power transmission coefficient, i.e. the fraction of power transmitted into the resonator
  </li>
  <li><code>S11</code> - the S11 scattering parameter, equal to the voltage reflection coefficient
  </li>
  <li><code>returnloss</code> - the return loss, equal to the power reflection coefficient, expressed in dB
  </li>
  <li><code>VSWR</code> - the voltage standing wave ratio
  </li>
</ul> 
</p>

<p>
If no output is requested, <code>resonatorprofile</code> plots the results.
</p>

<!-- ====================================================== -->
<div class="subtitle">Examples</div>

<p>
Here is a simple example for a power reflection curve, as used in EPR for tuning and matching:
</p>

<pre class="matlab">
nu = linspace(9.2,9.8,1001);   % GHz
nu0 = 9.5;                     % GHz
Qu = 3000;
beta = 1;
resonatorprofile(nu,nu0,Qu,beta,'powerreflection');
</pre>

<p>
For determining the microwave B1 acting on the spins in the EPR sample inside the resonator, the magnitude of the transfer function is relevant:
</p>

<pre class="matlab">
Qu = 200;
P_trans = resonatorprofile(nu,nu0,Qu,beta,'powertransmission');
H = resonatorprofile(nu,nu0,Qu,beta,'transferfunction');
plot(nu,P_trans,nu,abs(H));
legend('transmitted power','|transfer function|')
legend boxoff
</pre>

<!-- ====================================================== -->
<div class="subtitle">Algorithm</div>

<p>
The expressions implemented in <code>resonatorprofile</code> are listed on the <a href="resonators_ref.html">reference page on resonators</a>.
</p>

<!-- ====================================================== -->
<div class="subtitle">See also</div>

<p>
<a class="esf" href="resonator.html">resonator</a>

<hr>
</section>

<footer></footer>

</body>
</html>
